{% extends 'main.html' %}

{% load static %}
{% block content %} 

    <main class="container main cart">
        <h3>Cart</h3>
        <div class="row">
        <div class="col-lg-12 bg-dark p-4">
            <table class="table">
                <tr>
                    <th><h5>Total items : <strong> {{cartitems}} </strong></th> </h5> 
                    <th><h5>Total price : <strong>$ {{order.get_cart_total|floatformat:2}}</strong></th> </h5> 
                    <th>
                        <a href="{% url 'home' %}">
                            <button type="button" class="btn btn-primary">Checkout</button>
                        </a>
                    </th>
                    <th>
                        <a href="{%url 'home' %}"> 
                            <button type="button" class="btn btn-primary">Continue Shopping</button>
                        </a>
                    </th>
                </tr>
            </table>
        </div>

        <div class="cart-row my-3  p-3 bg-dark cart-detail-section">
            <div style="flex:2;">

            </div>
            <div class="text-center" style="flex:2;">
                <strong>Item</strong>
            </div>
            <div class="text-center" style="flex:1;">
                <strong>Price</strong>
            </div>
            <div class="text-center" style="flex:1;">
                <strong>Quantity</strong>
            </div>
            <div class="text-center" style="flex:2;">
                <strong>Total</strong>
            </div>
            <div  class="text-center"style="flex:1;">

            </div>
        </div>
        {%for item in items %}
        <div class="cart-row my-3  p-3 bg-dark">
            <div style="flex:2;">
                <img class="cart-image" src="{{item.product.image.url}}" alt="img">
            </div>
            <div class="text-center" style="flex:2;">
                <strong>{{item.product.name}}</strong>
            </div>
            <div class="text-center" style="flex:1;">
                <strong>$ {{item.product.price|floatformat:2}}</strong>
            </div>
            <div class="text-center" style="flex:1;">
                <p class="quantity">{{item.quantity}}</p>
                <div class="quantity">
                    <img class="chg-quantity add-cart" src="{% static 'images/header/arrow-up.png' %}" alt="images" data-action="add" data-product="{{item.product.id}}"/>

                    <img class="chg-quantity add-cart" src="{% static 'images/header/arrow-down.png' %}" alt="images" data-action="remove"  data-product="{{item.product.id}}"/>
                </div>
            </div>
            <div class="text-center" style="flex:2;">
                <strong>$ {{item.get_total}}</strong>
            </div>
            <div class="text-center" style="flex:1;">
                <img class="chg-quantity delete-order" data-product="{{item.product.id}}"  data-delete='delete' src="{% static 'images/header/trash.png'%}" alt="trash" style="width:20%;">
            </div>
        </div>
        {% endfor %}


        </div>
    </main>
    {% endblock %}
